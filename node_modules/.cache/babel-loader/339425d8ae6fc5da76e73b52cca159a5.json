{"ast":null,"code":"import _slicedToArray from \"/Users/sonutoor/codingsmaan/React-WeatherApp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/sonutoor/codingsmaan/React-WeatherApp/src/components/WeatherForm.js\";\nimport Button from './Button';\nimport CityInput from './CityInput';\nimport React, { useContext, useState } from 'react';\nimport styled from \"styled-components\";\nimport { WeatherContext } from \"../context/WeatherContext\";\nconst API_KEY = process.env.REACT_APP_WEATHERAPIKEY;\nlet StyledForm = styled.form`\n  display: flex;\n  width: 50%;\n  margin-left: 25%;\n  @media (max-width: 575px) {\n    flex-direction: column;\n  }\n`;\n\nconst createWeatherArrays = weather => {\n  let day = 0;\n  let firstDay = weather[0][\"dt_txt\"].slice(8, 10);\n  console.log(firstDay); // iterate over weather\n  // for (let i=0; i < weather.length; i++) {\n  // }\n};\n\nconst WeatherForm = () => {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        city = _useState2[0],\n        setCity = _useState2[1];\n\n  const _useContext = useContext(WeatherContext),\n        _useContext2 = _slicedToArray(_useContext, 2),\n        weather = _useContext2[0],\n        setWeather = _useContext2[1];\n\n  let units = `metric`;\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const API_URL = `https://api.openweathermap.org/data/2.5/forecast?q=${city}&APPID=${API_KEY}&units=${units}`;\n    fetch(API_URL).then(res => res.json()).then(function (data) {\n      createWeatherArrays(data.list);\n      let weatherData = {\n        city: data.city.name\n      }; // loop over the data.list\n      // each time the dt.txt changes create a a new array\n\n      setWeather(data);\n      console.log(data);\n    });\n    setCity(\"\");\n  };\n\n  return React.createElement(StyledForm, {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(CityInput, {\n    city: city,\n    setCity: setCity,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), React.createElement(Button, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }));\n};\n\nexport default WeatherForm;","map":{"version":3,"sources":["/Users/sonutoor/codingsmaan/React-WeatherApp/src/components/WeatherForm.js"],"names":["Button","CityInput","React","useContext","useState","styled","WeatherContext","API_KEY","process","env","REACT_APP_WEATHERAPIKEY","StyledForm","form","createWeatherArrays","weather","day","firstDay","slice","console","log","WeatherForm","city","setCity","setWeather","units","handleSubmit","event","preventDefault","API_URL","fetch","then","res","json","data","list","weatherData","name"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,cAAT,QAA+B,2BAA/B;AAGA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,uBAA5B;AAEA,IAAIC,UAAU,GAAGN,MAAM,CAACO,IAAK;;;;;;;CAA7B;;AAQA,MAAMC,mBAAmB,GAAIC,OAAD,IAAa;AACvC,MAAIC,GAAG,GAAG,CAAV;AACA,MAAIC,QAAQ,GAAGF,OAAO,CAAC,CAAD,CAAP,CAAW,QAAX,EAAqBG,KAArB,CAA2B,CAA3B,EAA6B,EAA7B,CAAf;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ,EAHuC,CAIvC;AACA;AAGA;AACD,CATD;;AAWA,MAAMI,WAAW,GAAG,MAAM;AAAA,oBACAhB,QAAQ,CAAC,EAAD,CADR;AAAA;AAAA,QACjBiB,IADiB;AAAA,QACXC,OADW;;AAAA,sBAEMnB,UAAU,CAACG,cAAD,CAFhB;AAAA;AAAA,QAEjBQ,OAFiB;AAAA,QAERS,UAFQ;;AAGxB,MAAIC,KAAK,GAAI,QAAb;;AAEA,QAAMC,YAAY,GAAIC,KAAD,IAAW;AAC9BA,IAAAA,KAAK,CAACC,cAAN;AAEA,UAAMC,OAAO,GAAI,sDAAqDP,IAAK,UAASd,OAAQ,UAASiB,KAAM,EAA3G;AAEAK,IAAAA,KAAK,CAACD,OAAD,CAAL,CACGE,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQ,UAASG,IAAT,EAAe;AACnBpB,MAAAA,mBAAmB,CAACoB,IAAI,CAACC,IAAN,CAAnB;AACC,UAAIC,WAAW,GAAG;AAChBd,QAAAA,IAAI,EAAEY,IAAI,CAACZ,IAAL,CAAUe;AADA,OAAlB,CAFkB,CAMlB;AACA;;AACDb,MAAAA,UAAU,CAACU,IAAD,CAAV;AACAf,MAAAA,OAAO,CAACC,GAAR,CAAYc,IAAZ;AACD,KAZH;AAaAX,IAAAA,OAAO,CAAC,EAAD,CAAP;AACD,GAnBD;;AAqBA,SACE,oBAAC,UAAD;AAAY,IAAA,QAAQ,EAAEG,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AACE,IAAA,IAAI,EAAEJ,IADR;AAEE,IAAA,OAAO,EAAEC,OAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAIE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CADF;AAQD,CAlCD;;AAoCA,eAAeF,WAAf","sourcesContent":["import Button from './Button'\nimport CityInput from './CityInput'\nimport React, { useContext, useState } from 'react';\nimport styled from \"styled-components\";\nimport { WeatherContext } from \"../context/WeatherContext\";\n\n\nconst API_KEY = process.env.REACT_APP_WEATHERAPIKEY;\n\nlet StyledForm = styled.form`\n  display: flex;\n  width: 50%;\n  margin-left: 25%;\n  @media (max-width: 575px) {\n    flex-direction: column;\n  }\n`\nconst createWeatherArrays = (weather) => {\n  let day = 0;\n  let firstDay = weather[0][\"dt_txt\"].slice(8,10)\n  console.log(firstDay)\n  // iterate over weather\n  // for (let i=0; i < weather.length; i++) {\n\n\n  // }\n}\n\nconst WeatherForm = () => {\n  const [city, setCity] = useState(\"\")\n  const [weather, setWeather] = useContext(WeatherContext);\n  let units = `metric`;\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    const API_URL = `https://api.openweathermap.org/data/2.5/forecast?q=${city}&APPID=${API_KEY}&units=${units}`;\n    \n    fetch(API_URL)\n      .then(res => res.json())\n      .then(function(data) {\n        createWeatherArrays(data.list)\n         let weatherData = {\n           city: data.city.name\n         }\n\n         // loop over the data.list\n         // each time the dt.txt changes create a a new array\n        setWeather(data)\n        console.log(data)        \n      })\n    setCity(\"\")\n  }\n\n  return (\n    <StyledForm onSubmit={handleSubmit}>\n      <CityInput \n        city={city}\n        setCity={setCity}/>\n      <Button/>\n    </StyledForm>\n  )\n}\n\nexport default WeatherForm;"]},"metadata":{},"sourceType":"module"}